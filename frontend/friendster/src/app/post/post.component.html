<div *ngIf="this.user != undefined">
    <div style="margin: 10px;">
        <button style="background-color: #008BD5; color: white;" (click)="writePost(null)">write post</button>
    </div>
    <hr>
<div *ngFor="let post of this.posts">
    <p>{{post.poster}}</p>
    <br>
    <p>{{post.content}}</p>
    <br>
    <p>Posted at: {{post.creationDate}}</p>
    <br>
    <button class="btn btn-link" (click)="checkReactions(this.post.likes)">{{this.post.numOfLikes}}</button>
    <button *ngIf="this.post.thisUserLiked" (click)="unlike(this.post.id)" style="background-color: #008BD5; margin-right: 10px;">LIKED</button>
    <button *ngIf="!this.post.thisUserLiked" (click)="like(this.post.id)" style="background-color: #3FBCFF; margin-right: 10px">LIKE</button>
    <button class="btn btn-link" (click)="checkReactions(this.post.hearts)">{{this.post.numOfHearts}}</button>
    <button *ngIf="this.post.thisUserHearted" (click)="unheart(this.post.id)" style="background-color: #F400CF; margin-right: 10px;">HEARTED</button>
    <button *ngIf="!this.post.thisUserHearted" (click)="heart(this.post.id)" style="background-color: #FF7BEB; margin-right: 10px">HEART</button>
    <button class="btn btn-link" (click)="checkReactions(this.post.dislikes)">{{this.post.numOfDislikes}}</button>
    <button *ngIf="this.post.thisUserDisliked" (click)="undislike(this.post.id)" style="background-color: #FF1C1C; margin-right: 10px;">DISLIKED</button>
    <button *ngIf="!this.post.thisUserDisliked" (click)="dislike(this.post.id)" style="background-color: #FF5A5A; margin-right: 10px">DISLIKE</button>
    <div *ngIf="this.post.poster == this.user.username">
        <button style="margin:8px;" (click)="writePost(this.post)">edit</button>
        <button style="margin-top:8px;" (click)="deletePost(this.post)">delete</button>
    </div>
    <hr>
    </div>
</div>
<div class="modal fade" id="postModal" tabindex="-1" aria-labelledby="postModalLabel" aria-modal="true"
    role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="postModalLabel">Post content</h5>
                <button type="button" class="close" aria-label="Close" (click)="closePostModal()">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <textarea id="postcontent" [(ngModel)]="postContent" style="width: 100%;"></textarea>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" (click)="closePostModal()">Close</button>
                <button type="button" id="postbtn" (click)="createPost()" class="btn btn-primary">Post</button>
            </div>
        </div>
    </div>
</div>
<div class="modal-backdrop fade show" id="backdrop" style="display: none;"></div>
<div class="modal fade" id="reactionModal" tabindex="-1" aria-labelledby="reactionModalLabel" aria-modal="true"
    role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="reactionModalLabel">Likes</h5>
                <button type="button" class="close" aria-label="Close" (click)="closeReactionModal()">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <div *ngFor="let reaction of reactions">
                    <p>{{this.reaction.reactor.username}}</p>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" (click)="closeReactionModal()">Close</button>
            </div>
        </div>
    </div>
</div>
<div class="modal-backdrop fade show" id="backdrop" style="display: none;"></div>
